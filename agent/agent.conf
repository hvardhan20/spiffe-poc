agent {
  data_dir = "/spire-agent/data"
  log_level = "INFO"

  trust_domain = "company.internal"

  # SPIRE server reachable over TCP inside your VPC
  server_address = "<SPIRE_SERVER_IP>"
  server_port = "8081"

  # Workload API socket (unix) for local workload attestation + SVID delivery
  socket_path = "/spire-agent/socket/agent.sock"
}

plugins {
  # PoC onboarding; replace with AWS IID / PSAT / other in production
  NodeAttestor "join_token" {
    plugin_data {
      token = "<JOIN_TOKEN>"
    }
  }

  KeyManager "memory" {
    plugin_data {}
  }

  WorkloadAttestor "unix" {
    plugin_data {}
  }
}
